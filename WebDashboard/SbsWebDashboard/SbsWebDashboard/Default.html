<!DOCTYPE html>

<html>
<head>
    <title></title>
    <style type="text/css" media="all">
body
{
	background: #fff;
	height: 100%;
	font-family: Arial, Helvetica, sans-serif;
	font-size: 10pt;
}
.sortableitem
{
	cursor:move;
	width: 300px;
	list-style: none;
}
.sorthelper
{
	background-color: #f00;
	float: left;
}
.sortableactive
{
}
.sortablehover
{
}
</style>
<script type="text/javascript" src="./Scripts/jquery-1.5.1.min.js"></script>
<script type="text/javascript" src="./Scripts/jquery-ui-1.8.13.custom.min.js"></script>
<script type="text/javascript">
    function renderFunctionPoints() {
        var GetFunctionPointsURl = "http://localhost:5659/FunctionPointService.svc/";
       var jfunctions ;
       $.ajax({
           type: "GET",
           dataType: "text",
           url: GetFunctionPointsURl,
           success: function (functions) {
               jfunctions = functions;
               var functionList = $.parseJSON(functions);

               for (var i = 0; i < functionList.length; i++) {
                  // alert(functionList[i].Name);
               }
           },
           error: function (xhr) {
               //alert(xhr);
           }
       });
    }
    $(document).ready(function () {

        renderFunctionPoints();
        $('#allUsers').sortable(
			{
			    accept: 'sortableitem',
			    helperclass: 'sorthelper',
			    activeclass: 'sortableactive',
			    hoverclass: 'sortablehover',
			    opacity: 0.8,
			    fx: 200,
			    axis: 'vertically',
			    opacity: 0.4,
			    revert: true
			});
        renderAllUser();

    })
    function renderAllUser() {
        var jUsers;
        var GetUsersURl = "http://localhost:9600/UserService.svc/";
        $.ajax({
            type: "GET",
            dataType: "text",
            url: GetUsersURl,
            success: function (users) {
                jUsers = users;
                var userList = $.parseJSON(users);
                for (var i = 0; i < userList.length; i++) {
                    //                    $('.cloneThis', this).each(function () {

                    //                    });
                    alert($('.userTemplate').length);
                    var user = $('.userTemplate:eq(0)').clone();
                    //var user = elem.clone();
                    //user.setAttr('id', 'ss' + userList[i].Name + i);
                    var allUsers = $('#allUsers');
                    user.insertAfter(allUsers);
                }

                //alert(jUsers);
            },
            error: function (xhr) {
                alert(xhr);
            }
        });
    }
</script>
</head>
<body>
    <div id="mainPanel">
        <div></div>
    </div>
    <div id="allUsers">
    </div>
    <div class="template">
        abc
    </div>
    <div class="userTemplate">
        user
    </div>
</body>
</html>
